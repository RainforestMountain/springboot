<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.lotterysystem.dao.mapper.UserMapper">


    <select id="selectByEmail" resultType="com.example.lotterysystem.dao.dataobject.UserDO">
        SELECT id,
               gmt_create,
               gmt_modified,
               user_name,
               email,
               phone_number,
               password,
               identity
        FROM user
        WHERE email = #{email}
    </select>
    <select id="selectByPhoneNumber" resultType="com.example.lotterysystem.dao.dataobject.UserDO">
        SELECT id,
               gmt_create,
               gmt_modified,
               user_name,
               email,
               phone_number,
               password,
               identity
        FROM user
        WHERE phone_number = #{phoneNumber}
    </select>
    <select id="selectUserList" resultType="com.example.lotterysystem.dao.dataobject.UserDO">
        SELECT * FROM user
        <if test="identity != null and identity != ''">
            WHERE identity = #{identity}
        </if>
        ORDER BY id DESC
    </select>
    <select id="selectExistByIds" resultType="java.lang.Long">
        SELECT id
        FROM user
        WHERE id IN
        <foreach collection="items" item="item" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>
    <select id="batchSelectByIds" resultType="com.example.lotterysystem.dao.dataobject.UserDO">
        SELECT *
        FROM user
        WHERE id IN
        <foreach collection="items" item="item" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>


</mapper>